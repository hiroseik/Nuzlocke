<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Nuzlocke Tracker</title>
  <!-- Use a local copy of the Bootswatch Cosmo theme so styling works offline -->
  <link rel="stylesheet" href="cosmo.min.css" />
  <script src="react.development.js"></script>
  <script src="react-dom.development.js"></script>
  <script src="babel.min.js"></script>
</head>
<body>
  <div class="container py-4" id="root"></div>
  <script type="text/babel">
    function App() {
      const [routes, setRoutes] = React.useState([]);

      React.useEffect(() => {
        const sheetId = '16sAyuGi_9KV6Ag64vItbsz7i5jw7xgDNK3bYvHLVNaE';
        const url = `https://opensheet.elk.sh/${sheetId}/Routes`;
        fetch(url)
          .then(res => res.json())
          .then(setRoutes)
          .catch(console.error);
      }, []);

      return (
        <div>
          <h1 className="mb-4">Nuzlocke Tracker</h1>
          {routes.map((row, idx) => (
            <div key={idx} className="mb-3">
              <label className="form-label me-2">{row.Route}</label>
              <select className="form-select d-inline-block w-auto">
                {row.Pokemon.split(';').map((p, index) => (
                  <option key={index} value={p.trim()}>{p.trim()}</option>
                ))}
              </select>
            </div>
          ))}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
